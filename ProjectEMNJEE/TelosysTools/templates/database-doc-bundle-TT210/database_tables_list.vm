<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!--
 * Index for all HTML pages
 * Created on $today.date ( Time $today.time )
 * Target Name     : "$target.targetName"
 * Target Template : "$target.template"
 * Target Entity   : "$target.entityName"  ( entityName is void because this template is "multi-targets" )
-->
#if ( $databases.hasDatabase($model.databaseId) )
#set ( $database = $databases.getDatabase($model.databaseId) )
## #set ( $dbinfo = "$database.name - $database.type" )
#set ( $dbinfo = $database.name)
#else
#set ( $dbinfo = "" )
#end

<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Database documentation</title>
<STYLE TYPE="text/css"> 
table {
	 border: thin solid Gray;
}
th,td{
	 border: thin solid Gray;
	 	margin-left: 10px;
 	margin-right: 10px;
 		padding-left: 10px;
 padding-right: 10px;
 	
}
th {
	 background-color: #B3AFDE;
	}
td.label{
	 background-color: #B3AFDE;
}

</STYLE> 

</head>
<body>
<h1>Database $dbinfo </h1>
<p>Documentation generated by <a href="http://tools.telosys.org/">Telosys Tools</a> ( $today.date $today.time )</p>
#set($count=0)
#set($warnings=0)
<table>
<tr> <th> ${SHARP} </th> <th>Name</th> <th>Schema</th> <th>Primary Key</th> </tr>
#foreach ( $entity in $selectedEntities )
#set($count=$count+1)
<tr>
<td align="right">$count</td>
<td><a href="./tables/${entity.name}.html">${entity.databaseTable}</a> #if( ! $entity.hasPrimaryKey() ) <span style="color: red;"><b>(!)</b></span> #end</td>
<td>${entity.databaseSchema}</td>
<td>
#if( $entity.hasPrimaryKey() )
${entity.keyAttributesCount} column(s)
#else
<span style="color: red;">NO PRIMARY KEY (!)</span>
#set($warnings=$warnings+1)
#end
</td>
</tr>
#end 
</table>

#if ( $warnings > 0 ) 
<p style="color: red;" >NB : <b>$warnings warning(s)</b> in this database !</p> 
#end
</body>
</html>
